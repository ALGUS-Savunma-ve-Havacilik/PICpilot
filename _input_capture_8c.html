<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.7"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <title>PICPilot: Autopilot/AttitudeManager/InputCapture.c File Reference</title>
        <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
        <link href="customdoxygen.css" rel="stylesheet" type="text/css" />
        <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="doxy-boot.js"></script>
    </head>
    <body>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand">PICPilot 2.1</a>
                </div>
            </div>
        </nav>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                            <div style="margin-bottom: 15px;">
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_f72be57a51e05d7b0ff15d5be594b5f9.html">Autopilot</a></li><li class="navelem"><a class="el" href="dir_8d2a0e42fb5d67510a2833fffb8c8148.html">AttitudeManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">InputCapture.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;p33Fxxxx.h&gt;</code><br />
<code>#include &quot;<a class="el" href="_input_capture_8h_source.html">InputCapture.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="timer_8h_source.html">timer.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for InputCapture.c:</div>
<div class="dyncontent">
<div class="center"><img src="_input_capture_8c__incl.png" border="0" usemap="#_autopilot_2_attitude_manager_2_input_capture_8c" alt=""/></div>
<map name="_autopilot_2_attitude_manager_2_input_capture_8c" id="_autopilot_2_attitude_manager_2_input_capture_8c">
<area shape="rect" id="node3" href="_input_capture_8h.html" title="InputCapture.h" alt="" coords="121,96,228,123"/><area shape="rect" id="node4" href="timer_8h.html" title="timer.h" alt="" coords="253,96,315,123"/></map>
</div>
</div>
<p><a href="_input_capture_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0bcbc964505011ad9c3231e97c445cda"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_input_capture_8c.html#a0bcbc964505011ad9c3231e97c445cda">PPM_SYNC_TICKS</a>&#160;&#160;&#160;(int)((float)(<a class="el" href="_input_capture_8h.html#a8712801712f5ced0857cdd32eb17be1a">PPM_MIN_SYNC_TIME</a>/1000)*<a class="el" href="timer_8h.html#a0aa7ff4a8d0e72a7cb89cf47d4b6e864">T2_TICKS_TO_MSEC</a>)</td></tr>
<tr class="memdesc:a0bcbc964505011ad9c3231e97c445cda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of timer ticks that indicate a sync pulse.  <a href="#a0bcbc964505011ad9c3231e97c445cda">More...</a><br /></td></tr>
<tr class="separator:a0bcbc964505011ad9c3231e97c445cda"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5cd4e528b1db22c0fca38b0e3e8efed9"><td class="memItemLeft" align="right" valign="top">unsigned int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_input_capture_8c.html#a5cd4e528b1db22c0fca38b0e3e8efed9">getICValues</a> (unsigned long int sys_time)</td></tr>
<tr class="memdesc:a5cd4e528b1db22c0fca38b0e3e8efed9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the input capture value (in Timer2 ticks) of all the channels.  <a href="#a5cd4e528b1db22c0fca38b0e3e8efed9">More...</a><br /></td></tr>
<tr class="separator:a5cd4e528b1db22c0fca38b0e3e8efed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd7f130fa043755f8c6c8303e337197"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_input_capture_8c.html#a7bd7f130fa043755f8c6c8303e337197">initIC</a> (unsigned char initIC)</td></tr>
<tr class="memdesc:a7bd7f130fa043755f8c6c8303e337197"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes interrupts for the specified channels.  <a href="#a7bd7f130fa043755f8c6c8303e337197">More...</a><br /></td></tr>
<tr class="separator:a7bd7f130fa043755f8c6c8303e337197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64653c452ab199760e9cdd6bdbbeeb76"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_input_capture_8c.html#a64653c452ab199760e9cdd6bdbbeeb76">__attribute__</a> ((__interrupt__, no_auto_psv))</td></tr>
<tr class="memdesc:a64653c452ab199760e9cdd6bdbbeeb76"><td class="mdescLeft">&#160;</td><td class="mdescRight">PPM Interrupt Service routine for Channel 7 for when PPM is enabled.  <a href="#a64653c452ab199760e9cdd6bdbbeeb76">More...</a><br /></td></tr>
<tr class="separator:a64653c452ab199760e9cdd6bdbbeeb76"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9e0389f4bd8943fb317d2ef1469df20e"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_input_capture_8c.html#a9e0389f4bd8943fb317d2ef1469df20e">start_time</a> [<a class="el" href="_input_capture_8h.html#a460ce078581280df4e858f87819387b6">PPM_CHANNELS</a>]</td></tr>
<tr class="memdesc:a9e0389f4bd8943fb317d2ef1469df20e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the capture start and end time so that we can compare them later.  <a href="#a9e0389f4bd8943fb317d2ef1469df20e">More...</a><br /></td></tr>
<tr class="separator:a9e0389f4bd8943fb317d2ef1469df20e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabfda45670a1acc892eb3a6133e96e10"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_input_capture_8c.html#aabfda45670a1acc892eb3a6133e96e10">end_time</a> [<a class="el" href="_input_capture_8h.html#a460ce078581280df4e858f87819387b6">PPM_CHANNELS</a>]</td></tr>
<tr class="separator:aabfda45670a1acc892eb3a6133e96e10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12cfcc1efd127c910bcb5d6bdc362486"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_input_capture_8c.html#a12cfcc1efd127c910bcb5d6bdc362486">capture_value</a> [<a class="el" href="_input_capture_8h.html#a460ce078581280df4e858f87819387b6">PPM_CHANNELS</a>]</td></tr>
<tr class="memdesc:a12cfcc1efd127c910bcb5d6bdc362486"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt flag for if new data is available and ready to read.  <a href="#a12cfcc1efd127c910bcb5d6bdc362486">More...</a><br /></td></tr>
<tr class="separator:a12cfcc1efd127c910bcb5d6bdc362486"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a8a9f83d253276ba2b5bbd3049598e5"><td class="memItemLeft" align="right" valign="top">static unsigned long int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_input_capture_8c.html#a1a8a9f83d253276ba2b5bbd3049598e5">ppm_last_capture_time</a></td></tr>
<tr class="memdesc:a1a8a9f83d253276ba2b5bbd3049598e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last capture time in ms for all the channels.  <a href="#a1a8a9f83d253276ba2b5bbd3049598e5">More...</a><br /></td></tr>
<tr class="separator:a1a8a9f83d253276ba2b5bbd3049598e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a6a4c0c8f60d6132862b92e0bdd1acd"><td class="memItemLeft" align="right" valign="top">static unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_input_capture_8c.html#a7a6a4c0c8f60d6132862b92e0bdd1acd">ppm_index</a></td></tr>
<tr class="memdesc:a7a6a4c0c8f60d6132862b92e0bdd1acd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to keep track of the pulse position when PPM is enabled.  <a href="#a7a6a4c0c8f60d6132862b92e0bdd1acd">More...</a><br /></td></tr>
<tr class="separator:a7a6a4c0c8f60d6132862b92e0bdd1acd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a0bcbc964505011ad9c3231e97c445cda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PPM_SYNC_TICKS&#160;&#160;&#160;(int)((float)(<a class="el" href="_input_capture_8h.html#a8712801712f5ced0857cdd32eb17be1a">PPM_MIN_SYNC_TIME</a>/1000)*<a class="el" href="timer_8h.html#a0aa7ff4a8d0e72a7cb89cf47d4b6e864">T2_TICKS_TO_MSEC</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of timer ticks that indicate a sync pulse. </p>

<p>Definition at line <a class="el" href="_input_capture_8c_source.html#l00013">13</a> of file <a class="el" href="_input_capture_8c_source.html">InputCapture.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a64653c452ab199760e9cdd6bdbbeeb76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __attribute__ </td>
          <td>(</td>
          <td class="paramtype">(__interrupt__, no_auto_psv)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PPM Interrupt Service routine for Channel 7 for when PPM is enabled. </p>
<p>Will trigger on any edge change on channel 7. Calculates the time between the last rise time and last fall time to determine if a PPM sync occurred, used to keep track of the positions of the channels </p>
<p>Clear the input compare buffer to avoid any issues when hot swapping PWM cables. Without this, when hot-swapping PWM connections, you may get weird values (in the 10000's range) when reading off of the connection. Note that in normal circumstances, the maximum size of the buffer at any time will be 1, so this while loop should never execute. Its only when you disconnect it and reconnect it that stuff gets weird.</p>

<p>Definition at line <a class="el" href="_input_capture_8c_source.html#l00210">210</a> of file <a class="el" href="_input_capture_8c_source.html">InputCapture.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_input_capture_8c_a64653c452ab199760e9cdd6bdbbeeb76_cgraph.png" border="0" usemap="#_input_capture_8c_a64653c452ab199760e9cdd6bdbbeeb76_cgraph" alt=""/></div>
<map name="_input_capture_8c_a64653c452ab199760e9cdd6bdbbeeb76_cgraph" id="_input_capture_8c_a64653c452ab199760e9cdd6bdbbeeb76_cgraph">
<area shape="rect" id="node2" href="timer_8c.html#a3c6380ce48cf6ff104824c3f8f5ca815" title="Get current time in ms. " alt="" coords="152,5,221,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5cd4e528b1db22c0fca38b0e3e8efed9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int* getICValues </td>
          <td>(</td>
          <td class="paramtype">unsigned long int&#160;</td>
          <td class="paramname"><em>sys_time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the input capture value (in Timer2 ticks) of all the channels. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sys_time</td><td>The system time in milliseconds. Used for detecting disconnected channels. A channel that is disconnected will have a value of 0. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Array containing all the channel values </dd></dl>
<p>The actual calculation of comparison values is already done in the ISR as part of the sync pulse detection, so we just return the values, unless we detected a disconnect</p>

<p>Definition at line <a class="el" href="_input_capture_8c_source.html#l00062">62</a> of file <a class="el" href="_input_capture_8c_source.html">InputCapture.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_input_capture_8c_a5cd4e528b1db22c0fca38b0e3e8efed9_icgraph.png" border="0" usemap="#_input_capture_8c_a5cd4e528b1db22c0fca38b0e3e8efed9_icgraph" alt=""/></div>
<map name="_input_capture_8c_a5cd4e528b1db22c0fca38b0e3e8efed9_icgraph" id="_input_capture_8c_a5cd4e528b1db22c0fca38b0e3e8efed9_icgraph">
<area shape="rect" id="node2" href="_attitude_manager_8h.html#a7a4dd2b79820f51766dac5b31ebc24bd" title="writeDatalink" alt="" coords="301,85,400,112"/><area shape="rect" id="node10" href="_p_w_m_8h.html#a128a365482379fe6f82f8d3e1e526e61" title="Gets the scaled PWM values in the range of MIN_PWM and MAX_PWM from all the channels. " alt="" coords="149,136,253,162"/><area shape="rect" id="node3" href="_anaconda_8c.html#a9a955bd8d80ffc2c4382278f85fcde08" title="initialization" alt="" coords="868,72,959,98"/><area shape="rect" id="node6" href="_anaconda_8c.html#ac4a010716439d5ac858ae21a9c2f0f6d" title="dearmVehicle" alt="" coords="448,72,549,98"/><area shape="rect" id="node9" href="_state_machine_8h.html#a0557d935ed927de974186932309946e6" title="StateMachine" alt="" coords="862,122,965,149"/><area shape="rect" id="node4" href="_attitude_manager_8h.html#aca8d3a2d782422496e6d7adfa3ea2294" title="attitudeInit" alt="" coords="1013,72,1096,98"/><area shape="rect" id="node5" href="_attitude_manager_2main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1144,97,1195,124"/><area shape="rect" id="node7" href="_anaconda_8c.html#a83af6c52b37ed394b8dde0ef68148861" title="stopArm" alt="" coords="598,21,669,48"/><area shape="rect" id="node8" href="_attitude_manager_8h.html#a674ea971a0e35acfbf481bb5a86915d2" title="readDatalink" alt="" coords="718,72,813,98"/><area shape="rect" id="node11" href="_attitude_manager_8h.html#add72119163c40236eb2b2b887dd88c4f" title="inputCapture" alt="" coords="451,173,547,200"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7bd7f130fa043755f8c6c8303e337197"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initIC </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>initIC</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes interrupts for the specified channels. </p>
<p>Initializes capture configuration of the PWM input channels.</p>
<p>Sets Timer2 as the time base, and configures it so that interrupts occur on every rising and falling edge </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">initIC</td><td>An 8-bit bit mask specifying which channels to enable interrupts on </td></tr>
  </table>
  </dd>
</dl>
<p>Generate capture event on every Rising and Falling edge Note that the ICI register is ignored when ICM is in edge detection mode (001)</p>

<p>Definition at line <a class="el" href="_input_capture_8c_source.html#l00115">115</a> of file <a class="el" href="_input_capture_8c_source.html">InputCapture.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_input_capture_8c_a7bd7f130fa043755f8c6c8303e337197_icgraph.png" border="0" usemap="#_input_capture_8c_a7bd7f130fa043755f8c6c8303e337197_icgraph" alt=""/></div>
<map name="_input_capture_8c_a7bd7f130fa043755f8c6c8303e337197_icgraph" id="_input_capture_8c_a7bd7f130fa043755f8c6c8303e337197_icgraph">
<area shape="rect" id="node2" href="_p_w_m_8h.html#a3fcfc770e06477c06625029550e51e90" title="Initializes the PWM input and output channels. " alt="" coords="107,5,179,32"/><area shape="rect" id="node3" href="_attitude_manager_8h.html#aca8d3a2d782422496e6d7adfa3ea2294" title="attitudeInit" alt="" coords="227,5,309,32"/><area shape="rect" id="node4" href="_attitude_manager_2main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="357,5,408,32"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a12cfcc1efd127c910bcb5d6bdc362486"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int capture_value[<a class="el" href="_input_capture_8h.html#a460ce078581280df4e858f87819387b6">PPM_CHANNELS</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Interrupt flag for if new data is available and ready to read. </p>
<p>This variable is not used if using PPM The actual time between interrupts (in timer2 ticks, not ms) </p>

<p>Definition at line <a class="el" href="_input_capture_8c_source.html#l00039">39</a> of file <a class="el" href="_input_capture_8c_source.html">InputCapture.c</a>.</p>

</div>
</div>
<a class="anchor" id="aabfda45670a1acc892eb3a6133e96e10"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int end_time[<a class="el" href="_input_capture_8h.html#a460ce078581280df4e858f87819387b6">PPM_CHANNELS</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_input_capture_8c_source.html#l00021">21</a> of file <a class="el" href="_input_capture_8c_source.html">InputCapture.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7a6a4c0c8f60d6132862b92e0bdd1acd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char ppm_index</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to keep track of the pulse position when PPM is enabled. </p>

<p>Definition at line <a class="el" href="_input_capture_8c_source.html#l00059">59</a> of file <a class="el" href="_input_capture_8c_source.html">InputCapture.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1a8a9f83d253276ba2b5bbd3049598e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long int ppm_last_capture_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Last capture time in ms for all the channels. </p>
<p>Used for detecting a channel/pwm disconnect. If using PPM, we only store it as one variable, since we've only got one physical connection </p>

<p>Definition at line <a class="el" href="_input_capture_8c_source.html#l00050">50</a> of file <a class="el" href="_input_capture_8c_source.html">InputCapture.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9e0389f4bd8943fb317d2ef1469df20e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int start_time[<a class="el" href="_input_capture_8h.html#a460ce078581280df4e858f87819387b6">PPM_CHANNELS</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Holds the capture start and end time so that we can compare them later. </p>
<p>We can only do 8 with PWM enabled. Otherwise </p>

<p>Definition at line <a class="el" href="_input_capture_8c_source.html#l00020">20</a> of file <a class="el" href="_input_capture_8c_source.html">InputCapture.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
Generated on Sun Mar 5 2017 00:02:40 for PICPilot by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
